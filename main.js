(()=>{"use strict";let e=[];document.querySelector(".forms-second-stage__btn-next").addEventListener("click",(t=>{t.preventDefault();let o={name:document.querySelector(".forms__name-input").value,address:document.querySelector(".forms__address-input").value,phone:document.querySelector(".forms__num-input").value,additionalPhone:document.querySelector(".forms__num-input-additional").value,city:document.querySelector(".selector-city").value,reson:document.querySelector(".forms__select-reson").value,commit:document.querySelector(".forms__text-commit").value,offer:document.querySelector(".forms-second-stage__select-offer").value,tariff:document.querySelector(".forms-second-stage__select-tariff").value};e.push(o)}));const t=document.querySelector(".forms-third-stage__list-container"),o=document.querySelector(".template");function r(e){const t=o.content.cloneNode(!0),r=t.querySelector(".fullname"),n=t.querySelector(".address"),c=t.querySelector(".phone"),s=t.querySelector(".additional-phone"),u=t.querySelector(".city"),l=t.querySelector(".reson"),d=t.querySelector(".commit"),m=t.querySelector(".offer"),a=t.querySelector(".tariff");return r.textContent="ФИО: "+e.name,n.textContent="Адрес: "+e.address,c.textContent="Номер телефона: "+e.phone,s.textContent="Доп.телефон: "+e.additionalPhone,u.textContent="Город: "+e.city,l.textContent="Причина: "+e.reson,d.textContent="Доп.Комментарий: "+e.commit,m.textContent="Предложение: "+e.offer,a.textContent="Тариф: "+e.tariff,t}function n(){e=[]}document.querySelector(".forms-second-stage__btn-next").addEventListener("click",(()=>{!function(){t.innerHTML="";const o=e.map(r);t.prepend(...o)}()}));const c=Array.from(document.querySelectorAll(".forms")),s=Array.from(document.querySelectorAll(".forms__form"));function u(e){const t=document.querySelector(".forms__show");let o=0;o=c.indexOf(t),c[o].classList.remove("forms__show"),"next"===e?o++:"prev"===e&&o--,c[o].classList.add("forms__show")}function l(){const e=document.querySelector(".forms__show");let t=0;t=c.indexOf(e),c[t].classList.remove("forms__show"),c[0].classList.add("forms__show")}function d(){s.forEach((e=>(e.addEventListener("submit",(e=>{e.preventDefault()})),e.reset())))}const m=document.querySelector(".popup");document.querySelector(".popup__btn").addEventListener("click",(()=>{m.classList.remove("popup__show")})),document.querySelectorAll(".forms__btn-next").forEach((e=>{e.addEventListener("click",(()=>{u("next")}))})),document.querySelectorAll(".forms__btn-back").forEach((e=>{e.addEventListener("click",(()=>{u("prev"),n()}))})),document.querySelector(".forms-fourth-stage__btn-finish").addEventListener("click",(()=>{d(),l()})),document.querySelector(".send").addEventListener("click",(()=>{localStorage.setItem("MyUsers",JSON.stringify(e)),n()})),document.querySelectorAll(".forms__btn-cancel").forEach((e=>{e.addEventListener("click",(()=>{m.classList.add("popup__show"),d(),l(),n()}))}));const a=Array.from(document.querySelectorAll(".input-validate"));document.addEventListener("mousemove",(()=>{a.forEach((e=>{""===e.value||e.value.length<=3?e.classList.add("forms__input_error"):e.classList.remove("forms__input_error")}))}))})();